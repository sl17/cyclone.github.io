---
published: true
layout: post
date: '2021-02-20 21:32:20 +0300'
tags:
  - Webpack
---
## 关于Webpack-1

#### webpack安装
1.先初始化一个文件

```
cd 当前目录
npm init //初始化一下  会产生一个 package.json 文件	
之后提示不用管 //一路回车
直到...
About to write to 目录\package.json:
{
  "name": "...",
  "version": "1.0.0"
  ...
}
Is this ok? (yes) //回车 完成

安装webpack

npm install webpack --save-dev
npm install webpack-cli --save-dev //webpack4.+ 版本需要安装webpack-cli 
```

#### mode开发模式
webpack 提供 mode 配置选项，配置 webpack 相应模式的内置优化。
>文件：webpack.config.js
```
module.exports = {
  mode: "production", //产品模式  会压缩和优化
  mode: "development", //开发模式
  mode: "none", // no defaults
}
```

#### 入口文件
entry 对象是用于 webpack 查找启动并构建 bundle。其上下文是入口文件所处的目录的绝对路径的字符串。
>文件：webpack.config.js
```
module.exports = {
  entry: "./app/entry", // string | object | array
  entry: ["./app/entry1", "./app/entry2"],
  entry: {
    a: "./app/entry-a",
    b: ["./app/entry-b1", "./app/entry-b2"]
  },
}
```

#### 输出（output）
output 属性告诉 webpack 在哪里输出它所创建的 bundles，以及如何命名这些文件。
>文件：webpack.config.js
```
const path = require('path');
module.exports = {
  output: {
    // webpack 如何输出结果的相关选项

    path: path.resolve(__dirname, "dist"), // string
    //__dirname   以当前目录下产生一个 dist
    // 所有输出文件的目标路径
    // 必须是绝对路径（使用 Node.js 的 path 模块）

    filename: "bundle.js", // string
    filename: "[name].js", // 用于多个入口点(entry point)（出口点？）
    filename: "[chunkhash].js", // 用于长效缓存
    // 「入口分块(entry chunk)」的文件名模板（出口分块？）

    publicPath: "/assets/", // string
    publicPath: "",
    publicPath: "https://cdn.example.com/",
    // 输出解析文件的目录，url 相对于 HTML 页面

    library: "MyLibrary", // string,
    // 导出库(exported library)的名称

    libraryTarget: "umd", // 通用模块定义
  }
}
```

#### 服务配置
开发中希望通过localhost方式访问，或者IP地址来访问
>文件：webpack.config.js

```
//安装webpack内置的开发服务   运行npm install webpack-dev-server --save-dev
npm install webpack-dev-server --save-dev
const path = require('path');
module.exports = {
  devServer: { //开发服务器的配置
    port: 3000, //修改端口号
    progress: true, //内存打包出现进度条
    contentBase: './bulid', //以build 目录作为静态服务
    open: true, //自动打开浏览器
    compress: true,//启用gzip压缩
  },
}

//运行时   npm webpack-dev-server  
//webpack-dev-server 命令也可以在packge.json 文件里面进行配置 
```
>文件：packge.json

```
{
  "name": "webpack-dev-1",
  ...
    
  "scripts": {
    "build": "webpack --config wepack.config.min.js",
    "dev": "webpack-dev-server"
   },

  "devDependencies": {
    ....
  }
}
//运行时   npm dev  即可 
```