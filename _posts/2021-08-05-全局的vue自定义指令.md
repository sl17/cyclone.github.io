---
published: true
layout: post
date: '2021-08-05 09:12:20 +0300'
tags:
  - Vue
---
## 全局的vue自定义指令

### loadMore.js
```
export default {
    bind(el, binding) {
        const selectWrap = el.querySelector('.vxe-table--body-wrapper')
        console.log(el)
        selectWrap.addEventListener('scroll', function() {
            let sign = 0
            const scrollDistance = this.scrollHeight - this.scrollTop - this.clientHeight
            if (scrollDistance <= sign) {
                console.log(111111)
                binding.value()
            }
        })
    }
};
```

### index.js

```
import loadMore from './table/loadMore'

const install = function(Vue) {
    Vue.directive('loadMore', loadMore)
}

if (window.Vue) {
    window['loadMore'] = loadMore
    Vue.use(install)
}
export default install
```

### main.js
```
import directive from './directive' //directive
Vue.use(directive)

```