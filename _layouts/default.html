<!DOCTYPE html>
<html>
{% include head.html %}
<body>
  <div class="center">
    <div class="j">
      <div class="page page1" id="page1">JAVASCRIPT</div>
      <div class="page page2" id="page2">VUE</div>
      <div class="page page3" id="page3">REACT</div>
      <div class="page page4" id="page4">NODE</div>
      <div class="page page5" id="page5">ES6</div>
      <div class="page page6" id="page6">TYPESCRIPT</div>
<!--   蜡烛暂时隐藏
      <div class="candle">
          <div class="flame"></div>
        </div>
-->
    </div>
  </div>
  <div class="wrapper">
    {{ content }}
  </div>
  
  {% include analytics.html %}
</body>
<script>
  var d = new Date().getDate();
  document.getElementsByTagName("body")[0].style.backgroundImage  = 'url(/cyclone.github.io/assets/img/bg/bg'+d+'.jpg)';
  document.addEventListener('mousemove', showMousePosition, false);
  let bodyWidth = document.body.clientWidth
  let bodyHeight = document.body.clientHeight
  window.onresize = function(){
    bodyWidth = document.body.clientWidth;
    bodyHeight = document.body.clientHeight;
  }
  let bodyWidthHalf = bodyWidth/2;
  let bodyHeightHalf = bodyHeight/2;
  let [diffW,diffH] = [0,0] 
  function showMousePosition(event) {       
    diffW = bodyWidthHalf - event.clientX;
    diffH = bodyHeightHalf - event.clientY;
    document.getElementsByTagName("body")[0].style.backgroundPositionX= 50 + diffW*0.01 +'%'
    document.getElementsByTagName("body")[0].style.backgroundPositionY= 50 + diffH*0.01 +'%'
  }
/*
  播放音乐
*/
  let btn1 = document.getElementById("btn1"),
  btn = document.getElementById("btn"),
  btn3 = document.getElementById("btn3"),
  music = document.getElementById("music"),
  musicArr = [{name:'爱的代价-李宗盛',value:'00001'},{name:'哭泣站台-王小帅',value:'00002'},{name:'叹-黄玲',value:'00003'},{name:'一路生花-温奕心',value:'00004'},
              {name:'漠河舞厅-柳爽',value:'00005'},{name:'请先说你好-贺一航',value:'00006'},{name:'情人-beyond',value:'00007'},{name:'留给这世上我最爱的人-容祖儿',value:'00008'},
              {name:'爱就一个字-张信哲',value:'00009'},{name:'旅行-许巍',value:'00010'}],
  num = 0,
  isT = 0,
  span = document.querySelector('#btn span'),
  waterText = document.querySelector('.water_text'),
  src = '/cyclone.github.io/assets/music/'+musicArr[num].value+'.mp3';
  waterText.innerText = musicArr[num].name;
  btn1.addEventListener('click', function(){
    if(num==0){num = musicArr.length-1};
    num--;
    src = '/cyclone.github.io/assets/music/'+musicArr[num].value+'.mp3';
    waterText.innerText = musicArr[num].name;
    music.setAttribute('src',src);
    music.play();
    span.className = 'stop';
    isT++
  })
  btn3.addEventListener('click', function(){
    if(num==(musicArr.length-1)){num = 0};
    num++;
    src = '/cyclone.github.io/assets/music/'+musicArr[num].value+'.mp3';
    waterText.innerText = musicArr[num].name;
    music.setAttribute('src',src);
    music.play();
    span.className = 'stop';
    isT++
  })
  btn.addEventListener('click', function(){
      music.setAttribute('src',src);
      if(isT%2==0){
          music.play();
          span.className = 'stop';
      }else{
          music.pause();
          span.className = 'play';
      }
      isT++
  })
 
</script>
</html>
